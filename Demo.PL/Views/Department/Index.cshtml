@model IEnumerable<DepartmentVM>
@{
    ViewData["Title"] = "Departments";
    // var employee = ViewData["Message"] as Employee;
}

<a asp-action="Create" class="btn btn-success">Create New Department</a>
@if (TempData["Message"] is not null)
{
    <div class="alert alert-success">

        @* <p>@employee.Name</p>  *@
        @* <h1>@ViewBag.Messaage</h1> *@
        <h3>@TempData["Message"]</h3>

    </div>
}
@if (TempData["Del"] is not null)
{
    <div class="alert alert-danger">
        <h3>@TempData["Del"] </h3>
    </div>
}

@if (Model.Any())
{
    <h1 class="mt-3">All Departments</h1>

    <div class="mt-3">
        <form class="row" asp-action="Index">
            <div class="col-8">
                <input class="form-control" type="text" placeholder="Department's Name.." name="searchView" />
            </div>

            <div class="col-4">
                <input type="submit" class="btn btn-info" value="Search" />
                <input type="submit" class="btn btn-warning" value="Return All" asp-action="Index" />
            </div>
        </form>
    </div>

    <table class="table table-striped table-hover  mt-3">
        <thead class="fw-bold">
            <tr>
                <td>@Html.DisplayNameFor(d => d.Code)</td>
                <td>@Html.DisplayNameFor(d => d.Name)</td>
                <td>@Html.DisplayNameFor(d => d.CreationDate)</td>

                <td>Details</td>
                <td>Update</td>
                <td>Delete</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var department in Model)
            {
            <tr>
                <td>@department.Code</td>
                <td>@department.Name</td>
                <td>@department.CreationDate</td>

                <partial name="_ButonPartialView" model="department.Id"></partial>

            </tr>
            }
        </tbody>
    </table>
}
else
{
    <div class="alert alert-warning mt-3">
        <h1>No Departments</h1>
    </div>
}

